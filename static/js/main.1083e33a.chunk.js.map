{"version":3,"sources":["lib/components/CircleButton/index.js","lib/components/WhiteFlash/index.js","lib/components/DisplayError/index.js","lib/components/Camera/helpers.js","lib/components/Camera/index.js","lib/components/index.js","lib/index.js","App.js","index.js"],"names":["CircleButton","_ref","onClick","isClicked","innerCircleClasses","react_default","a","createElement","id","e","className","WhiteFlash","isShowWhiteFlash","flashClasses","concat","DisplayError","isDisplayError","errorMsg","cssClass","length","isShowComponent","console","log","getShowHideStyle","isDisplay","display","printCameraInfo","info","Camera","props","context","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","libCameraPhoto","showVideoTimeoutId","videoRef","React","createRef","state","dataUri","isShowVideo","isCameraStarted","startCameraErrorMsg","handleTakePhoto","bind","assertThisInitialized","clearShowVideoTimeout","LibCameraPhoto","current","_this$props","idealFacingMode","idealResolution","isMaxResolution","startCameraMaxResolution","startCameraIdealResolution","nextProps","isDynamicPropsUpdate","restartCamera","stopCamera","catch","error","message","clearTimeout","_this2","then","promiseStartCamera","_this3","stream","setState","onCameraStart","onCameraError","startCamera","_this4","isComponentWillUnmount","arguments","undefined","Promise","resolve","reject","onCameraStop","_this5","_this$props2","configDataUri","sizeFactor","imageType","imageCompression","isImageMirror","isSilentMode","Audio","clickSound","base64","play","getDataUri","onTakePhoto","setTimeout","imageMirror","_this$props3","isDisplayStartCameraError","isFullscreen","videoStyles","objectSpread","transform","_getMirrorCameraStyle","showHideImgStyle","classNameFullscreen","components_DisplayError","components_WhiteFlash","style","alt","src","ref","autoPlay","playsInline","components_CircleButton","Component","defaultProps","getFileName","imageNumber","blobType","number","width","photoNumber","Array","join","extention","IMAGE_TYPES","PNG","JPG","getFileExtention","downloadImageFile","blob","window","URL","webkitURL","anchor","document","download","type","href","createObjectURL","mouseEvent","createEvent","initMouseEvent","dispatchEvent","downloadImageFileFomBlob","dataURI","byteString","atob","split","mimeString","ab","ArrayBuffer","ia","Uint8Array","i","charCodeAt","Blob","dataURItoBlob","App","lib","height","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.1083e33a.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './styles/circleButton.css';\n\nexport const CircleButton = ({ onClick, isClicked }) => {\n  const innerCircleClasses = isClicked ? 'is-clicked' : '';\n  return (\n    <div id=\"container-circles\">\n      <div\n        id=\"outer-circle\"\n        onClick = {\n          (e) => {\n            if (!isClicked) {\n              onClick();\n            }\n          }\n        }\n      >\n        <div id=\"inner-circle\" className={innerCircleClasses}>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nCircleButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  isClicked: PropTypes.bool.isRequired\n};\n\nexport default CircleButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './styles/whiteFlash.css';\n\nexport const WhiteFlash = ({ isShowWhiteFlash }) => {\n  const flashDoTransition = isShowWhiteFlash ? 'do-transition' : '';\n  const flashClasses = `${flashDoTransition} normal`;\n\n  return (\n    <div id=\"white-flash\" className={flashClasses}>\n    </div>\n  );\n};\n\nWhiteFlash.propTypes = {\n  isShowWhiteFlash: PropTypes.bool.isRequired\n};\n\nexport default WhiteFlash;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './styles/displayError.css';\n\nfunction isShowComponent (isDisplayError, errorMsg) {\n  return (isDisplayError && errorMsg && errorMsg.length > 0);\n}\nexport const DisplayError = ({ isDisplayError, errorMsg, cssClass }) => {\n  if (!isShowComponent(isDisplayError, errorMsg)) {\n    return null;\n  }\n\n  console.log('cssClass', cssClass);\n  return (\n    <div className={cssClass} id=\"display-error\">\n      <h1>Camera error: {errorMsg}</h1>\n    </div>\n  );\n};\n\nDisplayError.propTypes = {\n  isDisplayError: PropTypes.bool,\n  errorMsg: PropTypes.string,\n  cssClass: PropTypes.string\n};\n\nexport default DisplayError;\n","import clickSound from './data/click-sound.base64.json';\n\nexport function getShowHideStyle (isDisplay) {\n  const displayStyle = isDisplay\n    ? {display: 'inline-block'}\n    : {display: 'none'};\n\n  return displayStyle;\n}\n\nexport function _getMirrorCameraStyle (imageMirror) {\n  const mirrorDisplayStyle = imageMirror\n    ? {transform: 'rotateY(180deg)'}\n    : {transform: 'none'};\n\n  return mirrorDisplayStyle;\n}\n\nexport function getVideoStyles (isDisplay, imageMirror) {\n  return {\n    ..._getMirrorCameraStyle(imageMirror),\n    ...getShowHideStyle(isDisplay)\n  };\n}\n\nexport function isDynamicPropsUpdate (props, nextProps) {\n  return (\n    (props.idealFacingMode !== nextProps.idealFacingMode) ||\n    (props.idealResolution !== nextProps.idealResolution) ||\n    (props.isMaxResolution !== nextProps.isMaxResolution)\n  );\n}\n\nexport function playClickAudio () {\n  let audio = new Audio('data:audio/mp3;base64,' + clickSound.base64);\n  audio.play();\n}\n\nexport function printCameraInfo (info) {\n  console.info('react-html5-camera-photo info:', info);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// for debugging with git cloned jslib-html5-camera-photo\n// clone jslib-html5-camera-photo inside /src and replace\n// from 'jslib-html5-camera-photo' -> from '../../../jslib-html5-camera-photo/src/lib';\nimport LibCameraPhoto, { FACING_MODES, IMAGE_TYPES } from 'jslib-html5-camera-photo';\n\nimport CircleButton from '../CircleButton';\nimport WhiteFlash from '../WhiteFlash';\nimport DisplayError from '../DisplayError';\n\nimport {getShowHideStyle,\n  getVideoStyles,\n  isDynamicPropsUpdate,\n  playClickAudio,\n  printCameraInfo} from './helpers';\nimport './styles/camera.css';\n\n/*\nInspiration : https://www.html5rocks.com/en/tutorials/getusermedia/intro/\n*/\nclass Camera extends React.Component {\n  constructor (props, context) {\n    super(props, context);\n    this.libCameraPhoto = null;\n    this.showVideoTimeoutId = null;\n    this.videoRef = React.createRef();\n    this.state = {\n      dataUri: '',\n      isShowVideo: true,\n      isCameraStarted: false,\n      startCameraErrorMsg: ''\n    };\n    this.handleTakePhoto = this.handleTakePhoto.bind(this);\n    this.clearShowVideoTimeout = this.clearShowVideoTimeout.bind(this);\n  }\n\n  componentDidMount () {\n    this.libCameraPhoto = new LibCameraPhoto(this.videoRef.current);\n    const {idealFacingMode, idealResolution, isMaxResolution} = this.props;\n    if (isMaxResolution) {\n      this.startCameraMaxResolution(idealFacingMode);\n    } else {\n      this.startCameraIdealResolution(idealFacingMode, idealResolution);\n    }\n  }\n\n  // eslint-disable-next-line\n  UNSAFE_componentWillReceiveProps (nextProps) {\n    if (isDynamicPropsUpdate(this.props, nextProps)) {\n      const {idealFacingMode, idealResolution, isMaxResolution} = nextProps;\n      this.restartCamera(idealFacingMode, idealResolution, isMaxResolution);\n    }\n  }\n\n  componentWillUnmount () {\n    this.clearShowVideoTimeout();\n    const isComponentWillUnmount = true;\n    this.stopCamera(isComponentWillUnmount)\n      .catch((error) => {\n        printCameraInfo(error.message);\n      });\n  }\n\n  clearShowVideoTimeout () {\n    if (this.showVideoTimeoutId) {\n      clearTimeout(this.showVideoTimeoutId);\n    }\n  }\n\n  restartCamera (idealFacingMode, idealResolution, isMaxResolution) {\n    this.stopCamera()\n      .then()\n      .catch((error) => {\n        printCameraInfo(error.message);\n      })\n      .then(() => {\n        if (isMaxResolution) {\n          this.startCameraMaxResolution(idealFacingMode);\n        } else {\n          this.startCameraIdealResolution(idealFacingMode, idealResolution);\n        }\n      });\n  }\n\n  startCamera (promiseStartCamera) {\n    promiseStartCamera\n      .then((stream) => {\n        this.setState({\n          isCameraStarted: true,\n          startCameraErrorMsg: ''\n        });\n        if (typeof this.props.onCameraStart === 'function') {\n          this.props.onCameraStart(stream);\n        }\n      })\n      .catch((error) => {\n        this.setState({startCameraErrorMsg: error.message});\n        if (typeof this.props.onCameraError === 'function') {\n          this.props.onCameraError(error);\n        }\n      });\n  }\n\n  startCameraIdealResolution (idealFacingMode, idealResolution) {\n    let promiseStartCamera =\n        this.libCameraPhoto.startCamera(idealFacingMode, idealResolution);\n    this.startCamera(promiseStartCamera);\n  }\n\n  startCameraMaxResolution (idealFacingMode) {\n    let promiseStartCamera =\n        this.libCameraPhoto.startCameraMaxResolution(idealFacingMode);\n    this.startCamera(promiseStartCamera);\n  }\n\n  stopCamera (isComponentWillUnmount = false) {\n    return new Promise((resolve, reject) => {\n      this.libCameraPhoto.stopCamera()\n        .then(() => {\n          if (!isComponentWillUnmount) {\n            this.setState({ isCameraStarted: false });\n          }\n          if (typeof this.props.onCameraStop === 'function') {\n            this.props.onCameraStop();\n          }\n          resolve();\n        })\n        .catch((error) => {\n          if (typeof this.props.onCameraError === 'function') {\n            this.props.onCameraError(error);\n          }\n          reject(error);\n        });\n    });\n  }\n\n  handleTakePhoto () {\n    const {sizeFactor, imageType, imageCompression, isImageMirror, isSilentMode} = this.props;\n    const configDataUri = { sizeFactor, imageType, imageCompression, isImageMirror };\n\n    if (!isSilentMode) {\n      playClickAudio();\n    }\n\n    let dataUri = this.libCameraPhoto.getDataUri(configDataUri);\n    this.props.onTakePhoto(dataUri);\n\n    this.setState({\n      dataUri,\n      isShowVideo: false\n    });\n\n    this.clearShowVideoTimeout();\n    this.showVideoTimeoutId = setTimeout(() => {\n      this.setState({\n        isShowVideo: true\n      });\n    }, 900);\n  }\n\n  render () {\n    const {isImageMirror, isDisplayStartCameraError, isFullscreen} = this.props;\n\n    let videoStyles = getVideoStyles(this.state.isShowVideo, isImageMirror);\n    let showHideImgStyle = getShowHideStyle(!this.state.isShowVideo);\n\n    let classNameFullscreen = isFullscreen ? 'react-html5-camera-photo-fullscreen' : '';\n    return (\n      <div className={'react-html5-camera-photo ' + classNameFullscreen}>\n        <DisplayError\n          cssClass={'display-error'}\n          isDisplayError={isDisplayStartCameraError}\n          errorMsg={this.state.startCameraErrorMsg}\n        />\n        <WhiteFlash\n          isShowWhiteFlash={!this.state.isShowVideo}\n        />\n        <img\n          style={showHideImgStyle}\n          alt=\"camera\"\n          src={this.state.dataUri}\n        />\n        <video\n          style={videoStyles}\n          ref={this.videoRef}\n          autoPlay={true}\n          playsInline\n        />\n        <CircleButton\n          isClicked={!this.state.isShowVideo}\n          onClick={this.handleTakePhoto}\n        />\n      </div>\n    );\n  }\n}\n\nexport {\n  FACING_MODES,\n  IMAGE_TYPES\n};\n\nexport default Camera;\n\nCamera.propTypes = {\n  onTakePhoto: PropTypes.func.isRequired,\n  onCameraError: PropTypes.func,\n  idealFacingMode: PropTypes.string,\n  idealResolution: PropTypes.object,\n  imageType: PropTypes.string,\n  isImageMirror: PropTypes.bool,\n  isSilentMode: PropTypes.bool,\n  isDisplayStartCameraError: PropTypes.bool,\n  imageCompression: PropTypes.number,\n  isMaxResolution: PropTypes.bool,\n  isFullscreen: PropTypes.bool,\n  sizeFactor: PropTypes.number,\n  onCameraStart: PropTypes.func,\n  onCameraStop: PropTypes.func\n};\n\nCamera.defaultProps = {\n  isImageMirror: true,\n  isDisplayStartCameraError: true\n};\n","import Camera, { FACING_MODES, IMAGE_TYPES } from './Camera';\n\nexport {\n  FACING_MODES,\n  IMAGE_TYPES\n};\n\nexport default Camera;\n","import Camera, { FACING_MODES, IMAGE_TYPES } from './components';\n\nexport {\n  FACING_MODES,\n  IMAGE_TYPES\n};\n\nexport default Camera;","import React, { Component } from \"react\";\nimport Camera, { IMAGE_TYPES } from \"./lib\";\nimport \"./reset.css\";\n// import \"react-html5-camera-photo/build/css/index.css\";\n\nfunction dataURItoBlob(dataURI) {\n  let byteString = atob(dataURI.split(\",\")[1]);\n\n  // separate out the mime component\n  let mimeString = dataURI\n    .split(\",\")[0]\n    .split(\":\")[1]\n    .split(\";\")[0];\n\n  let ab = new ArrayBuffer(byteString.length);\n  let ia = new Uint8Array(ab);\n  for (let i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  let blob = new Blob([ab], { type: mimeString });\n  return blob;\n}\n\nfunction padWithZeroNumber(number, width) {\n  number = number + \"\";\n  return number.length >= width\n    ? number\n    : new Array(width - number.length + 1).join(\"0\") + number;\n}\n\nfunction getFileExtention(blobType) {\n  // by default the extention is .png\n  let extention = IMAGE_TYPES.PNG;\n\n  if (blobType === \"image/jpeg\") {\n    extention = IMAGE_TYPES.JPG;\n  }\n  return extention;\n}\n\nfunction getFileName(imageNumber, blobType) {\n  const prefix = \"photo\";\n  const photoNumber = padWithZeroNumber(imageNumber, 4);\n  const extention = getFileExtention(blobType);\n\n  return `${prefix}-${photoNumber}.${extention}`;\n}\n\nfunction downloadImageFileFomBlob(blob, imageNumber) {\n  window.URL = window.webkitURL || window.URL;\n\n  let anchor = document.createElement(\"a\");\n  anchor.download = getFileName(imageNumber, blob.type);\n  anchor.href = window.URL.createObjectURL(blob);\n  let mouseEvent = document.createEvent(\"MouseEvents\");\n  mouseEvent.initMouseEvent(\n    \"click\",\n    true,\n    true,\n    window,\n    1,\n    0,\n    0,\n    0,\n    0,\n    false,\n    false,\n    false,\n    false,\n    0,\n    null\n  );\n  anchor.dispatchEvent(mouseEvent);\n}\n\nfunction downloadImageFile(dataUri, imageNumber) {\n  let blob = dataURItoBlob(dataUri);\n  downloadImageFileFomBlob(blob, imageNumber);\n}\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.imageNumber = 0;\n  }\n  onTakePhoto(dataUri) {\n    downloadImageFile(dataUri, this.imageNumber);\n    this.imageNumber += 1;\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Camera\n          onTakePhoto={dataUri => {\n            this.onTakePhoto(dataUri);\n          }}\n          imageType={IMAGE_TYPES.PNG}\n          idealResolution={{ width: 1624, height: 1076 }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nconst AppRender = () => {\n  ReactDOM.render(<App />, document.getElementById(\"root\"));\n};\n\nAppRender();\n"],"sourceRoot":""}